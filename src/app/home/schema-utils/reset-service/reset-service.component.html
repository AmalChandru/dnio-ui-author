<div class="reset-wrapper d-flex flex-column w-100 p-4" [formGroup]="form">
    <div class="font-20 fw-600 mb-2">Reset Service</div>
    <div class="d-flex mb-3">
        Note that, these actions are&nbsp;
        <strong>permanent and can not be undone.</strong>
    </div>
    <div class="d-flex flex-column w-100 mt-4" *ngIf="edit.status && canEdit('S')">
        <div class="d-flex align-items-start justify-content-between mb-4">
            <div class="d-flex flex-column">
                <div class="font-14 fw-700 mb-2">Clear Logs</div>
                <div class="sub-heading font-14 fw-400 w-500">
                    Remove all logs generated by hooks and workflows
                </div>
            </div>
            <div class="btn-link fw-600 font-13 text-danger hover mr-3" (click)="purgeData('logs')">
                Purge all Logs
            </div>
        </div>
        <div class="d-flex align-items-start justify-content-between mb-4">
            <div class="d-flex flex-column">
                <div class="font-14 fw-700 mb-2">Clear Audit</div>
                <div class="sub-heading font-14 fw-400 w-500">
                    Remove all audit information of the data service and the
                    documents saved
                </div>
            </div>
            <div class="btn-link fw-600 font-13 text-danger hover mr-3" (click)="purgeData('audits')">
                Purge all Audit
            </div>
        </div>
        <div class="d-flex align-items-start justify-content-between mb-4">
            <div class="d-flex flex-column">
                <div class="font-14 fw-700 mb-2">Clear All Data</div>
                <div class="sub-heading font-14 fw-400 w-500">
                    Remove all data that has been saved for this service. This would
                    include logs, audit, files and documents The counter would also
                    be reset
                </div>
            </div>
            <div class="btn-link fw-600 font-13 text-danger hover mr-3" (click)="purgeData('all')">
                <strong>Purge all Data</strong>
            </div>
        </div>
    </div>
</div>


<ng-template #purgeModalTemplate>
    <div class="delete-modal-body modal-body p-4 d-flex flex-column align-items-center"
        (trigger)="purgeModalTemplateRef.close(true)">
        <div class="d-flex align-items-center justify-content-between mb-4 w-100">
            <div class="d-flex align-items-center">
                <span class="dsi dsi-danger-circle mr-2"></span>
                <span class="font-20 fw-600"><strong>{{ purgeModal.title }}</strong></span>
            </div>
            <span class="dsi dsi-close text-dark hover" (click)="purgeModalTemplateRef.close(false)"></span>
        </div>
        <div class="info d-flex flex-column align-self-center justify-content-center w-100">
            <div class="desc-pos">{{ purgeModal.desc }}</div>
            <div class="text-center mt-3 px-4">
                <span class="confirm-text">
                    Please type in the name of the data service to confirm
                </span>
            </div>
            <input type="text" class="form-control mt-3 service-name" placeholder="Enter the Data Service name"
                [(ngModel)]="confirmServiceName" odpAutoFocus />
            <div class="text-center mt-5">
                <button class="btn btn-danger" type="button" (click)="purgeModalTemplateRef.close(true)">
                    {{ purgeModal.btnText }}
                </button>
            </div>
        </div>
    </div>
</ng-template>