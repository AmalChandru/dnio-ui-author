<svg>
    <g class="node-block" [ngStyle]="style" class="hover" [attr.data-id]="definition.properties.dataPath">
        <g [attr.data-id]="definition.properties.dataPath">
            <rect x="0" y="0" width="300" height="36" rx="6" [attr.data-id]="definition.properties.dataPath" />
            <rect x="0" y="0" width="300" height="36" rx="6" [attr.data-id]="definition.properties.dataPath"
                class="rect" />
            <rect x="0" y="0" width="36" height="36" rx="6" [attr.data-id]="definition.properties.dataPath"
                class="function" />
            <text x="72" y="22" text-anchor="start"
                [attr.data-id]="definition.properties.dataPath">{{definition.properties.name}}</text>
        </g>
        <rect class="node-anchor start" [attr.data-id]="definition.properties.dataPath" x="-6" y="12" width="12"
            height="12" rx="6" (click)="selectField()"
            [class.active]="selectedNode && selectedNode._id == definition._id" />
        <foreignObject width="18" height="18" x="10" y="6" [attr.data-id]="definition.properties.dataPath">
            <span xmlns="http://www.w3.org/1999/xhtml" class="node-icon font-10 fw-500 text-success hover underline"
                [attr.data-id]="definition.properties.dataPath"><i xmlns="http://www.w3.org/1999/xhtml">fn()</i></span>
        </foreignObject>
        <foreignObject width="18" height="18" x="46" y="9" [attr.data-id]="definition.properties.dataPath">
            <span xmlns="http://www.w3.org/1999/xhtml" *ngIf="definition.type=='String'"
                class="node-icon font-18 fw-500 dsi dsi-text" [attr.data-id]="definition.properties.dataPath"></span>
            <span xmlns="http://www.w3.org/1999/xhtml" *ngIf="definition.type=='Number'"
                class="node-icon font-18 fw-500 dsi dsi-number" [attr.data-id]="definition.properties.dataPath"></span>
            <span xmlns="http://www.w3.org/1999/xhtml" *ngIf="definition.type=='Boolean'"
                class="node-icon font-18 fw-500 dsi dsi-boolean" [attr.data-id]="definition.properties.dataPath"></span>
            <span xmlns="http://www.w3.org/1999/xhtml" *ngIf="definition.type=='Date'"
                class="node-icon font-18 fw-500 dsi dsi-date" [attr.data-id]="definition.properties.dataPath"></span>
            <span xmlns="http://www.w3.org/1999/xhtml" *ngIf="definition.type=='Object'"
                class="node-icon font-18 fw-500 dsi dsi-object" [attr.data-id]="definition.properties.dataPath"></span>
            <span xmlns="http://www.w3.org/1999/xhtml" *ngIf="definition.type=='Array'"
                class="node-icon font-18 fw-500 dsi dsi-array" [attr.data-id]="definition.properties.dataPath"></span>
        </foreignObject>
    </g>
    <g class="indent" *ngFor="let item of definition.definition;;let i=index">
        <g odp-target-fields [allSources]="allSources" [index]="i" [definition]="item"></g>
    </g>
    <g *ngFor="let p of pathList;let i=index">
        <path [attr.d]="p.path" class="svg-path ignore-outside" />
    </g>
</svg>