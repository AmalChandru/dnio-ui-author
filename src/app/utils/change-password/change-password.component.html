<ng-template #changePasswordModal>
  <div class="modal-body p-4" [formGroup]="changePasswordForm">
    <div class="d-flex align-items-center align-self-start mb-3">
      <span class="icon-wrapper modify rounded-circle d-flex align-items-center justify-content-center mr-2">
        <odp-user-icon [size]="18" color="202A36" class="mt-1"></odp-user-icon>
      </span>
      <span class="font-weight-bold">Change Password</span>
    </div>
    <div class="input-wrapper position-relative">
      <input type="password" placeholder="Old Password" class="form-control mb-3"
        [ngClass]="{'is-invalid':oldPasswordRequired || oldPasswordLength}" formControlName="oldpassword" odpAutoFocus>
      <span *ngIf="oldPasswordRequired" class="fas fa-question-circle position-absolute text-danger error-icon"
        ngbTooltip="Old Password is required" container="body" placement="right"></span>
      <span *ngIf="oldPasswordLength" class="fas fa-question-circle position-absolute text-danger error-icon"
        ngbTooltip="Password should be of at least 8 characters" container="body" placement="right"></span>
    </div>
    <div class="input-wrapper position-relative mb-3">
      <input type="password" placeholder="New Password" class="form-control"
        [ngClass]="{'is-invalid':newPasswordRequired || newPasswordLength}" formControlName="newpassword">
      <span *ngIf="newPasswordRequired" class="fas fa-question-circle position-absolute text-danger error-icon"
        ngbTooltip="New Password is required" container="body" placement="right"></span>
      <span *ngIf="newPasswordLength" class="fas fa-question-circle position-absolute text-danger error-icon"
        ngbTooltip="Password should be of at least 8 characters" container="body" placement="right"></span>
    </div>
    <div class="input-wrapper position-relative">
      <input type="password" placeholder="Re-enter new password" class="form-control"
        [ngClass]="{'is-invalid':cnfrmPasswordRequired || matchPwd}" formControlName="confirmpassword">
      <span *ngIf="cnfrmPasswordRequired" class="fas fa-question-circle position-absolute text-danger error-icon"
        ngbTooltip="Confirm Password is required" container="body" placement="right"></span>
      <span *ngIf="matchPwd" class="fas fa-question-circle position-absolute text-danger error-icon"
        ngbTooltip="Passwords are not matching" container="body" placement="right"></span>
    </div>
    <p class="text-danger my-2 text-center">{{message}}&nbsp;</p>
    <div class="d-flex align-items-center justify-content-end mt-4">
      <button  type="button" class="btn btn-link text-dark"
              id="cancelPwdChng" (click)="changePasswordModalRef.close(false)">Cancel</button>
      <button type="button" class="btn btn-min-width btn-dark" (click)="changePassword()"
        id="confirmChangePssword" [disabled]="changePasswordForm.invalid || matchPwd">Confirm</button>
    </div>
  </div>
</ng-template>
